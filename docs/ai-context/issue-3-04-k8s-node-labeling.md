# Issue #3-04: Kubernetes 노드 역할 정의 및 레이블링 수행

## 📅 날짜: 2025-12-31
## 👤 참여자: 임성현, Gemini

## 1. 이슈 개요
- **목표**: Spark Operator 배포 전, 연산 효율성과 서비스 격리를 위해 K8s 워커 노드들에 물리적 자원 스펙에 따른 논리적 역할을 부여함.
- **결과**: `workload-type` 키를 활용한 4종의 레이블링(spark-executor, orchestration, data-gen, monitoring) 체계 수립 및 적용.

## 2. 주요 성과 및 대화 요약
- **[역할 기반 자원 격리]**: Spark 전용 노드(6c/12GB)와 일반 서비스 노드를 분리하여 연산 집약적 작업이 관리형 도구(Airflow 등)에 영향을 주지 않도록 설계함.
- **[가시성 확보]**: `kubectl get nodes -L` 커스텀 컬럼 조회를 통해 클러스터 전체의 워크로드 배치 현황을 한눈에 확인할 수 있도록 명령 체계 정리.
- **[대화 요약]**: 인프라 자원 수정 완료 후, K8s 레벨에서 노드 정체성을 확립하기 위한 라벨링 명령어 실습 및 검증 방법 논의.

## 3. 기술적 의사결정 및 트러블슈팅
- **기술적 선택: Label Selector**: `nodeSelector`를 활용하여 Spark Pod가 연산 전용 노드에만 뜨도록 강제하기 위한 사전 작업으로 라벨링 선택.
- **트러블슈팅**: (진행 예정) 라벨 오기입 시 `--overwrite` 플래그를 통한 수정 방법 및 라벨 삭제(`key-`) 프로토콜 숙지.

## 4. 결론 및 향후 계획
- **결론**: Spark Operator가 참조할 수 있는 노드 메타데이터 구성 완료.
- **차기 과제**: 
    - Spark 전용 노드 보호를 위한 **Taints/Tolerations** 검토.
    - Helm을 이용한 **Spark Operator** 본 설치 진행.